{% extends 'base.html' %}

{% load static %}
{% block head_title %} Modify current code{% endblock head_title %}
{% block buttom_panel %}



<form id="save-code-form" name='zorro' class="col"  method="POST" action="{% url 'codelibrary:modify_code_view' %}"> {% csrf_token %}
  <h3 style="text-align: center;">
    <a href="" style="text-decoration: none;">Modify current code</a>
  </h3>
  <br>
  
  <input name="original-title" class="form-control" type="hidden" value="{{select_title}}"></input>
  <input name="title" class="form-control" type="text" value="{{select_title}}"></input>
  <br>
  <div class="form-group">
    <label for="exampleFormControlTextarea1">Code body</label>
    <textarea name="source" class="form-control" id="exampleFormControlTextarea1" rows="10">{{source}}</textarea>
  </div>

  <div class="form-group">
    <label for="exampleFormControlSelect1">Choose a programming language</label>
    <select name="language" class="form-control" id="language">
      {% for l in languages %}
      <option value="{{l}}">{{l}}</option>
      {% endfor %}
    </select>
  </div>
  <br>

  <script>
    function setSelectedIndex(s, v) {
        for ( var i = 0; i < s.options.length; i++ ) {
            if ( s.options[i].text == v ) {
                s.options[i].selected = true;
                return;
            }
        }
    }
    setSelectedIndex(document.getElementById('language'),"python");
  </script>


  <div class="form-group">
    <label for="exampleFormControlSelect2">Code category - multiple select</label>
    <select name="category" multiple class="form-control" id="exampleFormControlSelect2" size="20">
      {% for c in categories %}
      <option value="{{c}}">{{c}}</option>
      {% endfor %}
    </select>
  </div>

  <br>

  <div class="form-check">
    <input name="is_favorite" type="checkbox" class="form-check-input" id="exampleCheck1">
    <label class="form-check-label" for="exampleCheck1" style="text-indent: 10px">is favorite</label>
  </div>
  <br>


  <button type="submit" class="btn btn-outline-success my-2 my-sm-0">Submit</button>
</form>


{% endblock buttom_panel %}